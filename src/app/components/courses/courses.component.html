<div class="courses-container">
    <!-- Navigation Buttons -->
  <!-- Navigation Buttons -->
<div class="nav-buttons">
    <button (click)="showAddCourse()">â• Add Course</button>
    <button (click)="showViewCourses()">ğŸ“š View Courses</button>
    <button (click)="showOverview()">ğŸ“Š Overview</button>
    <button (click)="showRewards()">ğŸ† Rewards</button>
</div>
<!-- Overview Section -->
<!-- Overview Section -->
<div *ngIf="isViewingOverview" class="overview-section">
    <h2>ğŸ“Š Course Overview</h2>
    <p>ğŸ“š Total Courses: {{ courses.length }}</p>
    <p>âœ… Completed Courses: {{ completedCoursesCount }}</p>
    <p>ğŸ“ˆ Overall Progress: {{ overallProgress }}%</p>
  
    <!-- Progress Chart (Bar Chart using Chart.js)
    <div *ngIf="overallProgress">
        <canvas id="progressChart" width="400" height="400"></canvas>
    </div> -->
  
    <!-- Task Breakdown -->
    <h3>Task Breakdown</h3>
    <p>âœ… Completed Tasks: {{ completedTasks }}</p>
    <p>âŒ Pending Tasks: {{ pendingTasks }}</p>
  </div>
  

<!-- Rewards Section -->
<div *ngIf="isViewingRewards" class="rewards-section">
    <h2>ğŸ† Rewards</h2>
    <p>ğŸŒŸ Total Points Earned: {{ totalPoints }}</p>
    <p>ğŸ–ï¸ Badges: {{ earnedBadges.join(', ') || 'No Badges Yet' }}</p>
</div>


    <!-- Step-by-Step Course Form -->
    <div *ngIf="isAddingCourse" class="add-course">
        <h2>â• Add Course</h2>
        <div class="progress-indicator">
            <div class="step" [class.active]="currentStep >= 1">1ï¸âƒ£</div>
            <div class="step" [class.active]="currentStep >= 2">2ï¸âƒ£</div>
            <div class="step" [class.active]="currentStep >= 3">3ï¸âƒ£</div>
            <div class="step" [class.active]="currentStep >= 4">4ï¸âƒ£</div>
        </div>

        <p class="motivation">{{ randomMessage }}</p>

        <div *ngIf="currentStep === 1">
            <h3>Step 1: Course Title ğŸ“–</h3>
            <input type="text" [(ngModel)]="newCourse.title" placeholder="Enter course name..." />
            <button (click)="nextStep()">â¡ï¸ Next</button>
        </div>

        <div *ngIf="currentStep === 2">
            <h3>Step 2: Add Tasks/Modules ğŸ“š</h3>
            <input type="text" [(ngModel)]="newTask.title" placeholder="Task Title" />
            <input type="date" [(ngModel)]="newTask.dueDate" />
            <textarea [(ngModel)]="newTask.notes" placeholder="Notes"></textarea>
            <button (click)="addTaskToCourse()">â• Add Task</button>

            <ul>
                <li *ngFor="let task of newCourse.tasks">
                    <span>{{ task.title }} - ğŸ“… {{ task.dueDate || 'No Date' }} - {{ task.notes || 'No Notes' }}</span>
                </li>
            </ul>

            <button (click)="prevStep()">â¬…ï¸ Back</button>
            <button (click)="nextStep()">â¡ï¸ Next</button>
        </div>

        <div *ngIf="currentStep === 3">
            <h3>Step 3: Set Target Date ğŸ“…</h3>
            <input type="date" [(ngModel)]="newCourse.targetDate" />
            <button (click)="prevStep()">â¬…ï¸ Back</button>
            <button (click)="nextStep()">â¡ï¸ Next</button>
        </div>

        <div *ngIf="currentStep === 4">
            <h3>Step 4: Add Notes ğŸ“</h3>
            <textarea [(ngModel)]="newCourse.notes" placeholder="Any notes for this course?"></textarea>
            <button (click)="prevStep()">â¬…ï¸ Back</button>
            <button (click)="addCourse()">âœ… Finish</button>
        </div>
    </div>

    <!-- View Courses -->
    <div *ngFor="let course of courses; let i = index" class="course-card">
        <h3>
            {{ course.title }} 
            <span *ngIf="course.completed" class="completed-badge">âœ… Completed</span>
        </h3>
        <p>ğŸ“… Target Date: {{ course.targetDate || 'Not Set' }}</p>
        <p>ğŸ“ Notes: {{ course.notes || 'No Notes' }}</p>
        <p>ğŸ† Points Earned: {{ course.pointsEarned }}</p>
    
        <ul>
            <li *ngFor="let task of course.tasks">
                <span [class.completed]="task.completed">{{ task.title }}</span>
                - ğŸ“… {{ task.dueDate || 'No Date' }} 
                - {{ task.notes || 'No Notes' }}
                <button *ngIf="!task.completed" class="mark-complete" (click)="markTaskComplete(course, task)">
                    âœ” Mark as Completed
                </button>
                <span *ngIf="task.completed" class="completed-task">âœ” Completed</span>
            </li>
        </ul>
    
        <!-- Delete Course Button -->
        <button class="delete-btn" (click)="deleteCourse(course.id)">ğŸ—‘ï¸ Delete</button>
    </div>
    
</div>
